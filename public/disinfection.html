<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>소독약 재고 및 세척일지 관리</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script type="module" src="./disinfection.js"></script>
    <style>
        /* 경고창 스타일 */
        #custom-alert {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #323232;
            color: #fff;
            padding: 16px 24px;
            border-radius: 4px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            opacity: 0;
            z-index: 1000;
            transition: opacity 0.5s ease-in-out;
        }

        #custom-alert.show {
            opacity: 1;
        }

        .active-btn {
            background-color: #1E3A8A; /* 활성화된 버튼 색상 */
            color: white;
        }

        .selected-row {
            background-color: #D1E7FF; /* 선택된 행의 색상 */
        }
    </style>
</head>
<body class="bg-gray-100 font-sans leading-normal tracking-normal h-screen">
    <!-- 경고창 요소 -->
    <div id="custom-alert">
        <span id="alert-message"></span>
    </div>

    <nav class="bg-indigo-500 p-2 shadow-md flex justify-between">
        <h1 class="text-white text-2xl">소독약 재고 및 세척일지 관리</h1>
        <div class="flex items-center">
            <div id="userStatus" class="text-white mr-4">로그인 상태 확인 중...</div>
            <button id="logoutBtn" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded hidden">로그아웃</button>
        </div>
    </nav>

    <div class="container mx-auto mt-4 px-4 flex" style="max-width: 100%; height: calc(100vh - 6rem);">
        <!-- 소독약 재고 테이블 -->
        <div class="w-2/3 p-4 bg-white rounded shadow-md mr-4">
            <h2 class="text-lg font-bold mb-4">소독약 재고</h2>
            <table class="min-w-full bg-white border text-center">
                <thead>
                    <tr>
                        <th>입고일자</th>
                        <th>제품명</th>
                        <th>유효기간</th>
                        <th>사용여부</th>
                        <th>사용일자</th>
                    </tr>
                </thead>
                <tbody id="소독약재고테이블"></tbody>
            </table>
        </div>

        <!-- 세척일지 테이블 -->
        <div class="w-2/3 p-4 bg-white rounded shadow-md mr-4">
            <h2 class="text-lg font-bold mb-4">세척일지</h2>
            <table class="min-w-full bg-white border text-center">
                <thead>
                    <tr>
                        <th>일자</th>
                        <th>수검자명</th>
                        <th>내시경일련번호</th>
                        <th>세척기번호</th>
                        <th>유효농도</th>
                        <th>입고</th>
                        <th>교체</th>
                        <th>잔여량</th>
                    </tr>
                </thead>
                <tbody id="세척일지테이블"></tbody>
            </table>
        </div>

        <!-- 우측 입력 섹션 -->
        <div class="w-1/3 p-4 bg-white rounded shadow-md">
            <h2 class="text-lg font-bold mb-4">입고/교체 기록</h2>
            
            <!-- 입고/교체 선택 버튼 -->
            <div class="flex mb-4">
                <button id="입고버튼" class="bg-gray-500 hover:bg-gray-700 text-white p-2 mr-2 rounded" onclick="폼전환('입고')">입고</button>
                <button id="교체버튼" class="bg-gray-500 hover:bg-gray-700 text-white p-2 rounded" onclick="폼전환('교체')">교체</button>
            </div>

            <!-- 입고 섹션 -->
            <div id="입고폼" class="hidden">
                <label class="block font-bold mb-2">입고일자</label>
                <input type="date" id="입고일자" class="w-full p-2 border rounded mb-4">
                
                <label class="block font-bold mb-2">제품명</label>
                <select id="제품명" class="w-full p-2 border rounded mb-4"></select>
                
                <label class="block font-bold mb-2">유효기간</label>
                <input type="date" id="유효기간" class="w-full p-2 border rounded mb-4">
                
                <label class="block font-bold mb-2">입고수량 (박스 단위)</label>
                <input type="number" id="입고수량" class="w-full p-2 border rounded mb-4" placeholder="박스 단위로 입력하세요">
                
                <button class="bg-blue-500 text-white p-2 rounded" onclick="소독약입고()">입고</button>
            </div>

            <!-- 교체 섹션 -->
            <div id="교체폼" class="hidden">
                <label class="block font-bold mb-2">교체일자</label>
                <input type="date" id="교체일자" class="w-full p-2 border rounded mb-4">

                <!-- 선택된 소독약 정보 표시 -->
                <div id="선택된소독약" class="mb-4 hidden">
                    <label class="block font-bold mb-2">선택된 소독약</label>
                    <p id="선택된소독약명"></p> <!-- 소독약명 표시 -->
                </div>

                <button class="bg-blue-500 text-white p-2 rounded" onclick="소독약교체()">교체</button>
            </div>
        </div>
    </div>
</body>
</html>